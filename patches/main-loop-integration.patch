# Description: Add oxide::MessagePump to base::RunLoop friends
# Author: Chris Coulson <chris.coulson@canonical.com>

diff --git a/base/run_loop.h b/base/run_loop.h
--- a/base/run_loop.h
+++ b/base/run_loop.h
@@ -5,16 +5,20 @@
 #ifndef BASE_RUN_LOOP_H_
 #define BASE_RUN_LOOP_H_
 
 #include "base/base_export.h"
 #include "base/callback.h"
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
 
+namespace oxide {
+class MessagePump;
+}
+
 namespace base {
 #if defined(OS_ANDROID)
 class MessagePumpForUI;
 #endif
 
 #if defined(OS_WIN)
 class MessagePumpDispatcher;
 #endif
@@ -67,16 +71,17 @@ class BASE_EXPORT RunLoop {
   // Example:
   //   RunLoop run_loop;
   //   PostTask(run_loop.QuitClosure());
   //   run_loop.Run();
   base::Closure QuitClosure();
 
  private:
   friend class MessageLoop;
+  friend class oxide::MessagePump;
 #if defined(OS_ANDROID)
   // Android doesn't support the blocking MessageLoop::Run, so it calls
   // BeforeRun and AfterRun directly.
   friend class base::MessagePumpForUI;
 #endif
 
 #if defined(OS_IOS)
   // iOS doesn't support the blocking MessageLoop::Run, so it calls

# Description: Compile our own intermediate RWHV implementation that sits
#  in content between RWHVBase and Oxide, to work around some non-exported
#  API's
# Author: Chris Coulson <chris.coulson@canonical.com>

diff --git a/content/content_browser.gypi b/content/content_browser.gypi
--- a/content/content_browser.gypi
+++ b/content/content_browser.gypi
@@ -1112,18 +1112,18 @@
       'browser/renderer_host/input/web_input_event_builders_android.cc',
       'browser/renderer_host/input/web_input_event_builders_android.h',
       'browser/renderer_host/input/web_input_event_builders_win.cc',
       'browser/renderer_host/input/web_input_event_builders_win.h',
       'browser/renderer_host/input/web_input_event_util.cc',
       'browser/renderer_host/input/web_input_event_util.h',
       'browser/renderer_host/input/web_input_event_util_posix.cc',
       'browser/renderer_host/input/web_input_event_util_posix.h',
-      'browser/renderer_host/legacy_render_widget_host_win.cc',
-      'browser/renderer_host/legacy_render_widget_host_win.h',
+      #'browser/renderer_host/legacy_render_widget_host_win.cc',
+      #'browser/renderer_host/legacy_render_widget_host_win.h',
       'browser/renderer_host/media/audio_input_device_manager.cc',
       'browser/renderer_host/media/audio_input_device_manager.h',
       'browser/renderer_host/media/audio_input_renderer_host.cc',
       'browser/renderer_host/media/audio_input_renderer_host.h',
       'browser/renderer_host/media/audio_input_sync_writer.cc',
       'browser/renderer_host/media/audio_input_sync_writer.h',
       'browser/renderer_host/media/audio_renderer_host.cc',
       'browser/renderer_host/media/audio_renderer_host.h',
@@ -1178,18 +1178,18 @@
       'browser/renderer_host/render_widget_host_delegate.cc',
       'browser/renderer_host/render_widget_host_delegate.h',
       'browser/renderer_host/render_widget_host_impl.cc',
       'browser/renderer_host/render_widget_host_impl.h',
       'browser/renderer_host/render_widget_host_latency_tracker.cc',
       'browser/renderer_host/render_widget_host_latency_tracker.h',
       'browser/renderer_host/render_widget_host_view_android.cc',
       'browser/renderer_host/render_widget_host_view_android.h',
-      'browser/renderer_host/render_widget_host_view_aura.cc',
-      'browser/renderer_host/render_widget_host_view_aura.h',
+      #'browser/renderer_host/render_widget_host_view_aura.cc',
+      #'browser/renderer_host/render_widget_host_view_aura.h',
       'browser/renderer_host/render_widget_host_view_base.cc',
       'browser/renderer_host/render_widget_host_view_base.h',
       'browser/renderer_host/render_widget_host_view_mac.h',
       'browser/renderer_host/render_widget_host_view_mac.mm',
       'browser/renderer_host/render_widget_host_view_mac_dictionary_helper.h',
       'browser/renderer_host/render_widget_host_view_mac_dictionary_helper.mm',
       'browser/renderer_host/render_widget_host_view_mac_editcommand_helper.h',
       'browser/renderer_host/render_widget_host_view_mac_editcommand_helper.mm',
@@ -1412,18 +1412,18 @@
       'browser/web_contents/aura/gesture_nav_simple.cc',
       'browser/web_contents/aura/gesture_nav_simple.h',
       'browser/web_contents/aura/overscroll_navigation_overlay.cc',
       'browser/web_contents/aura/overscroll_navigation_overlay.h',
       'browser/web_contents/aura/shadow_layer_delegate.cc',
       'browser/web_contents/aura/shadow_layer_delegate.h',
       'browser/web_contents/aura/window_slider.cc',
       'browser/web_contents/aura/window_slider.h',
-      'browser/web_contents/touch_editable_impl_aura.cc',
-      'browser/web_contents/touch_editable_impl_aura.h',
+      #'browser/web_contents/touch_editable_impl_aura.cc',
+      #'browser/web_contents/touch_editable_impl_aura.h',
       'browser/web_contents/web_contents_android.cc',
       'browser/web_contents/web_contents_android.h',
       'browser/web_contents/web_contents_impl.cc',
       'browser/web_contents/web_contents_impl.h',
       'browser/web_contents/web_contents_view.h',
       #'browser/web_contents/web_contents_view_android.cc',
       #'browser/web_contents/web_contents_view_android.h',
       #'browser/web_contents/web_contents_view_aura.cc',
@@ -1459,16 +1459,18 @@
       'browser/webui/web_ui_message_handler.cc',
       'browser/zygote_host/zygote_host_impl_linux.cc',
       'browser/zygote_host/zygote_host_impl_linux.h',
       'zygote/zygote_linux.cc',
       'zygote/zygote_linux.h',
       'zygote/zygote_main_linux.cc',
       '<(DEPTH)/../../../shared/port/content/browser/power_save_blocker_oxide.cc',
       '<(DEPTH)/../../../shared/port/content/browser/power_save_blocker_oxide.h',
+      '<(DEPTH)/../../../shared/port/content/browser/render_widget_host_view_oxide.cc',
+      '<(DEPTH)/../../../shared/port/content/browser/render_widget_host_view_oxide.h',
       '<(DEPTH)/../../../shared/port/content/browser/web_contents_view_oxide.cc',
       '<(DEPTH)/../../../shared/port/content/browser/web_contents_view_oxide.h',
     ],
     'android_browser_sources': [
       'browser/android/java/gin_java_bound_object.cc',
       'browser/android/java/gin_java_bound_object.h',
       'browser/android/java/gin_java_bound_object_delegate.cc',
       'browser/android/java/gin_java_bound_object_delegate.h',

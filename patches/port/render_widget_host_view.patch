# Description: Compile our own intermediate RWHV implementation that sits
#  in content between RWHVBase and Oxide, to work around some non-exported
#  API's
# Author: Chris Coulson <chris.coulson@canonical.com>

diff --git a/content/content_browser.gypi b/content/content_browser.gypi
--- a/content/content_browser.gypi
+++ b/content/content_browser.gypi
@@ -1030,18 +1030,18 @@
       'browser/renderer_host/input/web_input_event_builders_android.cc',
       'browser/renderer_host/input/web_input_event_builders_android.h',
       'browser/renderer_host/input/web_input_event_builders_win.cc',
       'browser/renderer_host/input/web_input_event_builders_win.h',
       'browser/renderer_host/input/web_input_event_util.cc',
       'browser/renderer_host/input/web_input_event_util.h',
       'browser/renderer_host/input/web_input_event_util_posix.cc',
       'browser/renderer_host/input/web_input_event_util_posix.h',
-      'browser/renderer_host/legacy_render_widget_host_win.cc',
-      'browser/renderer_host/legacy_render_widget_host_win.h',
+      #'browser/renderer_host/legacy_render_widget_host_win.cc',
+      #'browser/renderer_host/legacy_render_widget_host_win.h',
       'browser/renderer_host/media/audio_input_device_manager.cc',
       'browser/renderer_host/media/audio_input_device_manager.h',
       'browser/renderer_host/media/audio_input_renderer_host.cc',
       'browser/renderer_host/media/audio_input_renderer_host.h',
       'browser/renderer_host/media/audio_input_sync_writer.cc',
       'browser/renderer_host/media/audio_input_sync_writer.h',
       'browser/renderer_host/media/audio_renderer_host.cc',
       'browser/renderer_host/media/audio_renderer_host.h',
@@ -1093,20 +1093,20 @@
       'browser/renderer_host/render_view_host_impl.cc',
       'browser/renderer_host/render_view_host_impl.h',
       'browser/renderer_host/render_widget_helper.cc',
       'browser/renderer_host/render_widget_helper.h',
       'browser/renderer_host/render_widget_host_delegate.cc',
       'browser/renderer_host/render_widget_host_delegate.h',
       'browser/renderer_host/render_widget_host_impl.cc',
       'browser/renderer_host/render_widget_host_impl.h',
-      'browser/renderer_host/render_widget_host_view_android.cc',
-      'browser/renderer_host/render_widget_host_view_android.h',
-      'browser/renderer_host/render_widget_host_view_aura.cc',
-      'browser/renderer_host/render_widget_host_view_aura.h',
+      #'browser/renderer_host/render_widget_host_view_android.cc',
+      #'browser/renderer_host/render_widget_host_view_android.h',
+      #'browser/renderer_host/render_widget_host_view_aura.cc',
+      #'browser/renderer_host/render_widget_host_view_aura.h',
       'browser/renderer_host/render_widget_host_view_base.cc',
       'browser/renderer_host/render_widget_host_view_base.h',
       'browser/renderer_host/render_widget_host_view_mac_dictionary_helper.h',
       'browser/renderer_host/render_widget_host_view_mac_dictionary_helper.mm',
       'browser/renderer_host/render_widget_host_view_mac_editcommand_helper.h',
       'browser/renderer_host/render_widget_host_view_mac_editcommand_helper.mm',
       'browser/renderer_host/render_widget_host_view_mac.h',
       'browser/renderer_host/render_widget_host_view_mac.mm',
@@ -1334,18 +1334,18 @@
       'browser/web_contents/aura/image_window_delegate.cc',
       'browser/web_contents/aura/image_window_delegate.h',
       'browser/web_contents/aura/overscroll_navigation_overlay.cc',
       'browser/web_contents/aura/overscroll_navigation_overlay.h',
       'browser/web_contents/aura/shadow_layer_delegate.cc',
       'browser/web_contents/aura/shadow_layer_delegate.h',
       'browser/web_contents/aura/window_slider.cc',
       'browser/web_contents/aura/window_slider.h',
-      'browser/web_contents/touch_editable_impl_aura.cc',
-      'browser/web_contents/touch_editable_impl_aura.h',
+      #'browser/web_contents/touch_editable_impl_aura.cc',
+      #'browser/web_contents/touch_editable_impl_aura.h',
       'browser/web_contents/web_contents_android.cc',
       'browser/web_contents/web_contents_android.h',
       'browser/web_contents/web_contents_impl.cc',
       'browser/web_contents/web_contents_impl.h',
       'browser/web_contents/web_contents_view.h',
       #'browser/web_contents/web_contents_view_android.cc',
       #'browser/web_contents/web_contents_view_android.h',
       #'browser/web_contents/web_contents_view_aura.cc',
@@ -1393,16 +1393,18 @@
       # These files are generated by devtools_protocol_constants_generator.py.
       '<(SHARED_INTERMEDIATE_DIR)/content/browser/devtools/devtools_protocol_constants.cc',
       '<(SHARED_INTERMEDIATE_DIR)/content/browser/devtools/devtools_protocol_constants.h',
       # These files are generated by devtools_protocol_handler_generator.py.
       '<(SHARED_INTERMEDIATE_DIR)/content/browser/devtools/protocol/devtools_protocol_handler_impl.cc',
       '<(SHARED_INTERMEDIATE_DIR)/content/browser/devtools/protocol/devtools_protocol_handler_impl.h',
       '<(DEPTH)/../../../shared/port/content/browser/power_save_blocker_oxide.cc',
       '<(DEPTH)/../../../shared/port/content/browser/power_save_blocker_oxide.h',
+      '<(DEPTH)/../../../shared/port/content/browser/render_widget_host_view_oxide.cc',
+      '<(DEPTH)/../../../shared/port/content/browser/render_widget_host_view_oxide.h',
       '<(DEPTH)/../../../shared/port/content/browser/web_contents_view_oxide.cc',
       '<(DEPTH)/../../../shared/port/content/browser/web_contents_view_oxide.h',
     ],
     'android_browser_sources': [
       'browser/android/java/gin_java_bound_object.cc',
       'browser/android/java/gin_java_bound_object.h',
       'browser/android/java/gin_java_bound_object_delegate.cc',
       'browser/android/java/gin_java_bound_object_delegate.h',
